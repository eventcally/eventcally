{% extends "layout.html" %}
{% from "_macros.html" import render_image, render_radio_buttons, render_phone_prop, render_email_prop, render_string_prop, render_field_with_errors, render_field, render_event_props, render_image_with_link, render_place, render_link_prop %}
{% block title %}
{{ event_suggestion.name }}
{% endblock %}
{% block content %}

<h1>{{ _('Review event suggestion') }}</h1>

<div class="card mb-3">
    <div class="card-header">
        {{ _('Event suggestion') }}
      </div>
    <div class="card-body">

        {% if event_suggestion.photo_id %}
            <div class="">
                {{ render_image(event_suggestion.photo, class='rounded', style='object-fit: cover; height: 20vh;') }}
            </div>
        {% endif %}

        <div class="text-highlight text-uppercase font-weight-bold">{{ event_suggestion.start | dateformat('full') }} um {{ event_suggestion.start | timeformat('short') }}</div>
        <div class="font-weight-bold" style="font-size: 1.8rem;">{{ event_suggestion.name }}</div>
        <div class="text-muted">{{ event_suggestion.event_place.name or event_suggestion.event_place_text }}</div>

        <div class="mt-3"><i class="fa fa-fw fa-sitemap"></i> {{ event_suggestion.organizer.name or event_suggestion.organizer_text }}</div>
        {{ render_link_prop(event_suggestion.external_link) }}
        <div class="my-2">{{ event_suggestion.description }}</div>
    </div>
</div>

<div class="card mb-3">
    <div class="card-header">
      {{ _('Contact') }}
    </div>
    <div class="card-body">
          {{ render_string_prop(event_suggestion.contact_name, 'fa-user') }}
          {{ render_email_prop(event_suggestion.contact_email) }}
          {{ render_phone_prop(event_suggestion.contact_phone) }}
    </div>
</div>

<div class="my-4">
    <a class="btn btn-success" href="{{ url_for('event_create_for_admin_unit_id', id=event_suggestion.admin_unit_id, event_suggestion_id=event_suggestion.id) }}" role="button"><i class="fa fa-arrow-right"></i> {{ _('Create event from suggestion') }}</a>
</div>

<div class="font-italic font-weight-bold my-4 text-uppercase">
    oder
</div>

<div class="my-4">
    <form action="" method="POST">
        {{ form.hidden_tag() }}
        {{ render_field_with_errors(form.rejection_resaon) }}
        <p>{{ form.submit(class="btn btn-danger")|safe }}</p>
    </form>
</div>

{% endblock %}